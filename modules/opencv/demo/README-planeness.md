
# test_planeness.cpp 说明
实现镜头平整度检测判断，自动判别是否镜头Sensor安装是否平整，需要定制特殊的测试卡。

## 功能原理
* 通过计算图片的梯度（锐度）值，判断出图片的质量（清晰还是不清晰）  
* 指定特定的测试卡，画面4个角落放置特定四边形黑白图案卡（方便检测计算）  
* 计算4个角落的图案卡清晰度进行判断是否平整  

## opencv实现步骤
1. 加载图片后进行“灰度转换”  
2. 二值化灰度图(`threshold`)  
3. 找最大轮廓(`findContours`)，正常输出4组轮廓数据  
4. 分别对4组轮廓数据进行四边形拟合得到4个顶点坐标(`approxPolyDP`)  
5. 通过4个顶点坐标进行放射变换实现抠图与矫正(`getPerspectiveTransform/warpPerspective`)  
6. 对每张图片进行梯度计算(`Sobel`)得到清晰度评价值  

